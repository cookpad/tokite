= form_for [@rule_user, @rule] do |f|
  = form_text_field f, :name, size: 40, class: "input"
  = form_text_field f, :query, size: 400, class: "input"
  = form_text_field f, :channel, size: 40, class: "input"
  = form_text_field f, :icon_emoji, size: 40, class: "input"
  = form_text_field f, :additional_text, size: 40, class: "input"
  .field
    = f.submit class: "button is-primary"
    - if @rule.persisted?
      = link_to "Delete rule", user_rule_path(@rule_user, @rule), method: :delete, data: { confirm: %(Delete "#{@rule.name}"?) }, class: "button is-danger is-pulled-right"

.message.vspace-40
  .message-header
    Query description
  .message-body
    %h2.title Supported query type
    %table.table.is-bordered
      %tr
        %th Name
        %th Example
      %tr
        %td Plain text
        %td hoge fuga moge
      %tr
        %td Quoted text
        %td "hoge fuga moge"
      %tr
        %td Regular expression
        %td /(hoge|fuga|moge)/

    %h2 Supported query field
    %table.table.is-bordered
      %tr
        %th Field
        %th Description
        %th Example
      %tr
        %td repo:
        %td Match repository name.
        %td repo:hogelog/tokite
      %tr
        %td title:
        %td Match pull_request or issues title.
        %td title:Bug
      %tr
        %td event:
        %td Match event type pull_request, issues or issue_comment.
        %td event:/(pull_request|issues)/
      %tr
        %td body:
        %td Match body text.
        %td body:"review please"
      %tr
        %td user:
        %td Match user name.
        %td user:hogelog
      %tr
        %td unspecified
        %td Match any field.
        %td hogelog
